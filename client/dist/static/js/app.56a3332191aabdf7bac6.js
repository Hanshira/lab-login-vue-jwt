webpackJsonp([1],[,function(e,t,n){"use strict";function s(e){return p.post("/signup",e).then(function(e){return e.data})}function a(e,t,n){return p.post("/login",{username:e,password:t}).then(function(e){var t=e.data,s=t.token,a=t.name;return localStorage.setItem("jwtToken",s),localStorage.setItem("user.name",a),i(n),e.data})}function o(e,t,n){localStorage.setItem("jwtToken",t),localStorage.setItem("user.name",e.name),i(n)}function r(){return p.get("/secret").then(function(e){return e.data})}function i(e){var t=localStorage.jwtToken,n=localStorage["user.name"];t&&(c.a.defaults.headers.common.Authorization="Bearer "+t,e.$root.user={token:t,name:n})}function u(e){localStorage.removeItem("jwtToken"),delete c.a.defaults.headers.common.Authorization,e.$root.user=null}var l=n(14),c=n.n(l),p=c.a.create({baseURL:"/api"});t.a={signup:s,login:a,loginFacebook:o,logout:u,secret:r,loadUser:i}},,,,,,,,,function(e,t,n){"use strict";var s=n(4),a=n(46),o=n(41),r=n.n(o),i=n(39),u=n.n(i),l=n(40),c=n.n(l);s.a.use(a.a),t.a=new a.a({mode:"history",routes:[{path:"/",name:"auth-playground",component:r.a},{path:"/login/callback",component:c.a},{path:"/login",name:"login",component:u.a}]})},,function(e,t){},function(e,t,n){var s=n(2)(n(32),n(44),null,null,null);e.exports=s.exports},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(1);t.default={name:"app",created:function(){s.a.loadUser(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(1);t.default={data:function(){return{error:"",loading:!1,username:"",password:""}},computed:{buttonClasses:function(){return{"is-loading":this.loading}}},methods:{login:function(){var e=this;this.error="",this.loading=!0,s.a.login(this.username,this.password).then(function(t){e.$router.push("/")}).catch(function(t){e.error=t.message}).then(function(){e.loading=!1})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(1);t.default={created:function(){s.a.loginFacebook({name:this.$route.query.name},this.$route.query.token,this),this.$router.push("/")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(1);t.default={data:function(){return{response:"",username:"",name:"",password:"",error:"",facebookLogin:"/api/login/facebook"}},methods:{signup:function(){var e=this;this.error="",s.a.signup({username:this.username,password:this.password,name:this.name}).then(function(t){e.response=t}).catch(function(t){e.error=t.response.data})},login:function(){var e=this;s.a.login(this.username,this.password,this).then(function(t){e.response=t}).catch(function(t){e.error=t})},secret:function(){var e=this;s.a.secret().then(function(t){e.response=t}).catch(function(t){e.response=t})},logout:function(){s.a.logout(this)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),a=n(11),o=n.n(a),r=n(12),i=(n.n(r),n(13)),u=n.n(i),l=n(10);s.a.use(o.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:l.a,data:{user:null},template:"<App/>",components:{App:u.a}})},,,function(e,t,n){var s=n(2)(n(33),n(45),null,null,null);e.exports=s.exports},function(e,t,n){var s=n(2)(n(34),n(42),null,null,null);e.exports=s.exports},function(e,t,n){var s=n(2)(n(35),n(43),null,null,null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n  Login in\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.error?n("article",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[e._v(e._s(e.error))])]):e._e(),e._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Username")]),e._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Name")]),e._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Password")]),e._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e._v(" "),n("pre",[e._v(e._s(e.response))]),e._v(" "),n("button",{staticClass:"button is-primary",on:{click:e.signup}},[e._v("Signup")]),e._v(" "),n("button",{staticClass:"button is-success",on:{click:e.login}},[e._v("Login")]),e._v(" "),n("a",{staticClass:"button",attrs:{href:e.facebookLogin}},[e._v("Facebook Login")]),e._v(" "),n("button",{staticClass:"button is-danger",on:{click:e.logout}},[e._v("Logout")]),e._v(" "),n("button",{staticClass:"button is-warning",on:{click:e.secret}},[e._v("Secret")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section",attrs:{id:"app"}},[e.$root.user?n("p",[e._v("Hello "+e._s(e.$root.user.name))]):n("router-link",{attrs:{to:"/login"}},[e._v("Login")]),e._v(" "),n("div",{staticClass:"container"},[n("router-view")],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.error?n("b-notification",{attrs:{type:"is-danger",closable:!1}},[e._v(e._s(e.error))]):e._e(),e._v(" "),n("form",{on:{submit:function(t){t.preventDefault(),e.login(t)}}},[n("b-field",{attrs:{label:"Username"}},[n("b-input",{attrs:{type:"text",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),n("b-field",{attrs:{label:"Password"}},[n("b-input",{attrs:{type:"password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),n("button",{staticClass:"button is-primary",class:e.buttonClasses},[e._v("Login")])],1)],1)},staticRenderFns:[]}}],[36]);
//# sourceMappingURL=app.56a3332191aabdf7bac6.js.map