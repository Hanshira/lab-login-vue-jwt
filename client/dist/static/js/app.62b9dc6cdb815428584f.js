webpackJsonp([1],[,,function(t,e,n){"use strict";function s(t){return c.post("/signup",t).then(function(t){return t.data})}function a(t,e,n){return c.post("/login",{username:t,password:e}).then(function(t){var e=t.data,s=e.token,a=e.name;return localStorage.setItem("jwtToken",s),localStorage.setItem("user.name",a),o(n),t.data})}function r(){return c.get("/secret").then(function(t){return t.data})}function o(t){var e=localStorage.jwtToken,n=localStorage["user.name"];e&&(l.a.defaults.headers.common.Authorization="Bearer "+e,t.$root.user={token:e,name:n})}function i(t){localStorage.removeItem("jwtToken"),delete l.a.defaults.headers.common.Authorization,t.$root.user=null}var u=n(14),l=n.n(u),c=l.a.create({baseURL:"/api"});e.a={signup:s,login:a,logout:i,secret:r,loadUser:o}},,,,,,,,function(t,e,n){"use strict";var s=n(4),a=n(43),r=n(39),o=n.n(r),i=n(38),u=n.n(i);s.a.use(a.a),e.a=new a.a({routes:[{path:"/",name:"auth-playground",component:o.a},{path:"/login",name:"login",component:u.a}]})},,function(t,e){},function(t,e,n){var s=n(3)(n(32),n(41),null,null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(2);e.default={name:"app",created:function(){s.a.loadUser(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(2);e.default={data:function(){return{error:"",loading:!1,username:"",password:""}},computed:{buttonClasses:function(){return{"is-loading":this.loading}}},methods:{login:function(){var t=this;this.error="",this.loading=!0,s.a.login(this.username,this.password).then(function(e){t.$router.push("/")}).catch(function(e){t.error=e.message}).then(function(){t.loading=!1})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(2);e.default={data:function(){return{response:"",username:"",password:"",error:""}},methods:{signup:function(){var t=this;this.error="",s.a.signup({username:this.username,password:this.password}).then(function(e){t.response=e}).catch(function(e){t.error=e.response.data})},login:function(){var t=this;s.a.login(this.username,this.password,this).then(function(e){t.response=e}).catch(function(e){t.error=e})},secret:function(){var t=this;s.a.secret().then(function(e){t.response=e}).catch(function(e){t.response=e})},logout:function(){s.a.logout(this)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(4),a=n(11),r=n.n(a),o=n(12),i=(n.n(o),n(13)),u=n.n(i),l=n(10);s.a.use(r.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:l.a,data:{user:null},template:"<App/>",components:{App:u.a}})},,,function(t,e,n){var s=n(3)(n(33),n(42),null,null,null);t.exports=s.exports},function(t,e,n){var s=n(3)(n(34),n(40),null,null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("article",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body"},[t._v(t._s(t.error))])]):t._e(),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Username")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),n("pre",[t._v(t._s(t.response))]),t._v(" "),n("button",{staticClass:"button is-primary",on:{click:t.signup}},[t._v("Signup")]),t._v(" "),n("button",{staticClass:"button is-success",on:{click:t.login}},[t._v("Login")]),t._v(" "),n("button",{staticClass:"button is-danger",on:{click:t.logout}},[t._v("Logout")]),t._v(" "),n("button",{staticClass:"button is-warning",on:{click:t.secret}},[t._v("Secret")])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Name")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{staticClass:"input",attrs:{type:"text"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section",attrs:{id:"app"}},[t.$root.user?n("p",[t._v("Hello "+t._s(t.$root.user.name))]):n("router-link",{attrs:{to:"/login"}},[t._v("Login")]),t._v(" "),n("div",{staticClass:"container"},[n("router-view")],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("b-notification",{attrs:{type:"is-danger",closable:!1}},[t._v(t._s(t.error))]):t._e(),t._v(" "),n("form",{on:{submit:function(e){e.preventDefault(),t.login(e)}}},[n("b-field",{attrs:{label:"Username"}},[n("b-input",{attrs:{type:"text",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),n("b-field",{attrs:{label:"Password"}},[n("b-input",{attrs:{type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),n("button",{staticClass:"button is-primary",class:t.buttonClasses},[t._v("Login")])],1)],1)},staticRenderFns:[]}}],[35]);
//# sourceMappingURL=app.62b9dc6cdb815428584f.js.map